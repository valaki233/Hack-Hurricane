<!DOCTYPE html >
<html lang="en" prefers-color-scheme: dark style="--primary: #739072; --background-color: #D2E3C8 --color: #000000; --primary-hover: #4F6F52;">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AI park</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">    
    <script src='https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v3.0.1/mapbox-gl.css' rel='stylesheet' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">

  </head>
  
  <body>
    <div class="header">
      <div class="container" style="text-align: center;">
        <div class="row">
          <div class="col-12">
            <h1><a href="/about">ABOUT</a> :: <a href="/">AI-PARK</a></h1>
            
          </div>
        </div>
      </div>
    </div>

    <form action="http://localhost:3000/register" method="POST" class="">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" required>

      <label for="age">Age:</label>
      <input type="number" id="age" name="age" required>

      <h3>Children:</h3>
      <div id="childrenContainer">
        <!-- Children will be dynamically added here -->
      </div>

      <div class="button-container-parent" style="position: fixed; bottom: 0; left: 0; width: 100%; display: flex; justify-content: center; background-color: black;">
        <!-- <div class="button-container" style="background-color: black; display: flex;"></div> -->
          <button type="button" class="addkid" onclick="addChild()" style="margin-right: 5px;">Add Child</button>
          <button type="submit" class="givemap" value="submit" style="margin-left: 5px;">Give me a map</button>
        <!-- </div> -->
      </div>
    </form>

    <script>
      function delChild(id){
        var child = document.getElementById(id).parentElement.parentElement;
        childrenContainer.removeChild(child);
      }

      var i = 0;
      function addChild() {
        i++;
        const childrenContainer = document.getElementById('childrenContainer');

        const childDiv = document.createElement('div');
        childDiv.classList.add('child');

        const nameLabel = document.createElement('label');
        nameLabel.textContent = 'Child Name:';
        const nameInput = document.createElement('input');
        nameInput.type = 'text';
        nameInput.name = 'childNames';
        nameInput.id = `childNames${i}`;
        nameLabel.appendChild(nameInput);

        const DELlabel = document.createElement('label');
        DELlabel.textContent = 'Delete:';
        const DEL = document.createElement('button');
        DEL.name = 'childDEL';
        DEL.id = `childDEL${i}`;
        DEL.type = 'button';
        DEL.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
          <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
        </svg>`;

        DEL.style = 'margin-top: 5px; --primary-hover: #a13c2f; font-size: 1rem; ';
        DELlabel.appendChild(DEL);
        DEL.addEventListener('click', function(){
          delChild(DEL.id);
        });

        const genderLabel = document.createElement('label');
        genderLabel.textContent = 'Gender:';
        const genderInput = document.createElement('select');
        genderInput.name = 'childGender';
        genderInput.id = `childGender${i}`;
        const optionMale = document.createElement('option');
        optionMale.value = 'male';
        optionMale.textContent = 'Male';
        const optionFemale = document.createElement('option');
        optionFemale.value = 'female';
        optionFemale.textContent = 'Female';
        genderInput.appendChild(optionMale);
        genderInput.appendChild(optionFemale);
        genderLabel.appendChild(genderInput);

        const ageLabel = document.createElement('label');
        ageLabel.textContent = 'Age:';
        const ageInput = document.createElement('input');
        ageInput.type = 'number';
        ageInput.name = 'childAges';
        ageInput.id = `childAges${i}`;
        ageLabel.appendChild(ageInput);

        childDiv.appendChild(nameLabel);
        childDiv.appendChild(genderLabel);
        childDiv.appendChild(ageLabel);
        childDiv.appendChild(DELlabel);

        childrenContainer.appendChild(childDiv);
      }
    </script>
  </body>
</html>